<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>ESF - Phrase du jour</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      text-align: center;
      background-color: #2c3e50;
      color: #fff;
      position: relative;
      overflow-x: hidden;
    }

    /* Neige stable */
    .snowflake {
      position: absolute;
      top: -10px;
      color: #fff;
      font-size: 1em;
      user-select: none;
      pointer-events: none;
      animation: fall linear infinite;
      will-change: transform;
    }

    @keyframes fall {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(110vh); opacity: 0.8; }
    }

    /* Logo ESF */
    .esf-logo {
      margin: 30px 0;
      width: 250px;
      object-fit: contain;
    }

    /* Illustration sports transformées en boutons */
    .illustration {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-bottom: 30px;
      flex-wrap: wrap;
      z-index: 1;
    }

    .illustration button {
      border: none;
      background: none;
      cursor: pointer;
      padding: 0;
    }

    .illustration img {
      width: 80px;
      height: 80px;
      border-radius: 15px;
      border: 2px solid #f8b500;
      box-shadow: 0 5px 15px rgba(0,0,0,0.5);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .illustration img:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 20px rgba(0,0,0,0.6);
    }

    /* Encadré phrase */
    .card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 25px;
      padding: 40px;
      max-width: 500px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.5);
      border: 2px solid #f8b500;
      margin-bottom: 10px;
      z-index: 1;
    }

    .title {
      font-size: 1.8em;
      margin-bottom: 20px;
      color: #ffcc80;
      font-weight: bold;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
    }

    .phrase {
      font-size: 1.4em;
      color: #fff;
      line-height: 1.5;
      opacity: 0;
      animation: fadeIn 1.5s forwards;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    /* Case compteur */
    .timer-box {
      background: rgba(255,255,255,0.1);
      border-radius: 15px;
      padding: 10px 20px;
      margin-top: 15px;
      display: inline-block;
      color: #ffd700;
      font-size: 1em;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }

    /* Fenêtre description sport */
    .sport-popup {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 20px;
      max-width: 500px;
      color: #fff;
      font-size: 1em;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
      margin-top: 15px;
      position: relative;
      display: none; /* cachée par défaut */
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
      border: 2px solid #f8b500;
      text-align: left;
    }

    /* Croix pour fermer */
    .close-btn {
      position: absolute;
      top: 5px;
      right: 10px;
      cursor: pointer;
      font-weight: bold;
      color: #ffd700;
      font-size: 1.2em;
    }
  </style>
</head>
<body>

  <!-- Logo ESF -->
  <img src="https://upload.wikimedia.org/wikipedia/commons/d/d6/Esf-Logo.png" alt="ESF Logo" class="esf-logo">

  <!-- Illustrations des sports (boutons) -->
  <div class="illustration">
    <button onclick="showDescription('ski')">
      <img src="https://www.image-heberg.fr/files/17675675291956170808.png" alt="Ski">
    </button>
    <button onclick="showDescription('snowboard')">
      <img src="https://www.image-heberg.fr/files/17675674102650499341.png" alt="Snowboard">
    </button>
    <button onclick="showDescription('biathlon')">
      <img src="https://www.image-heberg.fr/files/17675675104150924392.png" alt="Biathlon">
    </button>
    <button onclick="showDescription('skiFond')">
      <img src="https://www.image-heberg.fr/files/17675674462059440354.png" alt="Ski de fond">
    </button>
  </div>

  <!-- Encadré de la phrase -->
  <div class="card">
    <div class="title">On Dirait Qu'un Petit Mot S'est Egaré Ici..</div>
    <div class="phrase" id="phrase">Chargement...</div>
    <div class="timer-box" id="timer">Calcul du temps restant...</div>
  </div>

  <!-- Fenêtre description sport -->
  <div class="sport-popup" id="sportPopup">
    <span class="close-btn" onclick="closeDescription()">✖</span>
    <div id="sportDescription">Clique sur un sport pour en savoir plus.</div>
  </div>

  <!-- Script de déblocage + timer + description -->
  <script>
    const phrases = [
      "Chaque jour compte.",
      "Commence avant d’être prêt.",
      "Tu avances même quand tu doutes.",
      "La discipline crée la liberté."
    ];

    const launchDate = new Date("2026-01-01T07:30:00");
    const now = new Date();

    const today730 = new Date(
      now.getFullYear(),
      now.getMonth(),
      now.getDate(),
      7, 30, 0
    );

    let dayIndex;
    if (now < today730) {
      dayIndex = Math.floor((today730 - launchDate) / (1000 * 60 * 60 * 24)) - 1;
    } else {
      dayIndex = Math.floor((now - launchDate) / (1000 * 60 * 60 * 24));
    }
    dayIndex = Math.max(0, dayIndex);

    document.getElementById("phrase").innerText =
      phrases[dayIndex % phrases.length];

    // TIMER jusqu'à 7h30 demain
    function updateTimer() {
      const now = new Date();
      let next730 = new Date(
        now.getFullYear(),
        now.getMonth(),
        now.getDate(),
        7, 30, 0
      );
      if (now >= next730) {
        next730.setDate(next730.getDate() + 1);
      }
      const diff = next730 - now;
      const hours = Math.floor(diff / (1000*60*60));
      const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
      const seconds = Math.floor((diff % (1000*60)) / 1000);
      document.getElementById("timer").innerText =
        `Prochaine phrase dans ${hours}h ${minutes}m ${seconds}s`;
    }

    updateTimer();
    setInterval(updateTimer, 1000);

    // Description des sports détaillée
    const descriptions = {
      ski: "Ski alpin :\nEn école de ski, on retrouve deux épreuves principales : la Flèche, qui teste la vitesse et la précision dans les virages, et le Chamois, qui évalue la maîtrise technique sur des parcours variés. Le ski alpin combine vitesse, équilibre et contrôle pour descendre les pistes en toute sécurité.",
      snowboard: "Snowboard :\nLe snowboard se pratique sur une seule planche et met l’accent sur l’équilibre et le style. À l’ESF, les cours incluent des exercices sur les virages, les sauts et la glisse freestyle pour apprendre à maîtriser la planche dans toutes les situations.",
      biathlon: "Biathlon :\nLe biathlon combine ski de fond et tir à la carabine. Les élèves apprennent à gérer l’effort et la respiration, à alterner vitesse et précision. Les épreuves de l’ESF permettent de développer endurance et concentration, tout en respectant la sécurité lors du tir.",
      skiFond: "Ski de fond :\nLe ski de fond se pratique sur des parcours variés, alternant technique classique et skating. À l’ESF, les cours visent à améliorer l’endurance, le rythme et l’efficacité des mouvements, tout en découvrant différents types de neige et terrains."
    };

    function showDescription(sport) {
      const popup = document.getElementById('sportPopup');
      document.getElementById('sportDescription').innerText = descriptions[sport];
      popup.style.display = 'block';
      popup.scrollIntoView({ behavior: 'smooth' });
    }

    function closeDescription() {
      document.getElementById('sportPopup').style.display = 'none';
    }

    // Création de la neige stable
    const numberOfSnowflakes = 50;
    for (let i = 0; i < numberOfSnowflakes; i++) {
      const snow = document.createElement('div');
      snow.className = 'snowflake';
      snow.style.left = Math.random() * window.innerWidth + 'px';
      snow.style.animationDuration = (5 + Math.random() * 5) + 's';
      snow.style.fontSize = (10 + Math.random() * 20) + 'px';
      snow.innerText = '❄';
      document.body.appendChild(snow);
    }
  </script>

</body>
</html>
